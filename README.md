# üßπ LF_CLEANER

<div align="center">

![Bash](https://img.shields.io/badge/Bash-5.0+-4EAA25?style=for-the-badge&logo=gnu-bash&logoColor=white)
![Ubuntu](https://img.shields.io/badge/Ubuntu-24.04_LTS-E95420?style=for-the-badge&logo=ubuntu&logoColor=white)
![License](https://img.shields.io/badge/License-MIT-blue?style=for-the-badge)
![Version](https://img.shields.io/badge/Version-2.0-green?style=for-the-badge)

**–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –¥–ª—è Ubuntu Server**

–ê–Ω–∞–ª–∏–∑ ‚Ä¢ –ü–æ–∏—Å–∫ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ ‚Ä¢ –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è

[–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏) ‚Ä¢
[–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞) ‚Ä¢
[–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ) ‚Ä¢
[–°–∫—Ä–∏–Ω—à–æ—Ç—ã](#-—Å–∫—Ä–∏–Ω—à–æ—Ç—ã) ‚Ä¢
[FAQ](#-faq)

</div>

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

**LF_CLEANER** ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π bash-—Å–∫—Ä–∏–ø—Ç –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ —á—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ, –æ—á–∏—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∑–∞—â–∏—Ç—É –æ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è.

### –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

- üî¥ –î–∏—Å–∫ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω –Ω–∞ 100% –∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- üü† –ù–µ –ø–æ–Ω–∏–º–∞–µ—Ç–µ, —á—Ç–æ —Å—ä–µ–ª–æ –≤—Å—ë –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ
- üü° `/var/log` —Ä–∞–∑—Ä–æ—Å—Å—è –¥–æ –≥–∏–≥–∞–±–∞–π—Ç–æ–≤
- üü¢ –•–æ—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—á–∏—Å—Ç–∫—É —Å–∏—Å—Ç–µ–º—ã

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîç –ê–Ω–∞–ª–∏–∑ –∏ –ø–æ–∏—Å–∫

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| **TOP –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π** | –ü–æ–∏—Å–∫ —Å–∞–º—ã—Ö –±–æ–ª—å—à–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –ø–æ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º–µ |
| **–ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã** | –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤ –±–æ–ª—å—à–µ 100MB –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ |
| **–ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤** | –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ /var/log —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π |
| **–û—Ç–∫—Ä—ã—Ç—ã–µ —É–¥–∞–ª—ë–Ω–Ω—ã–µ** | –ü–æ–∏—Å–∫ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å—ë –µ—â—ë –∑–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ |
| **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ncdu** | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π |

### üßπ –û—á–∏—Å—Ç–∫–∞

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| **–£–º–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤** | –û—á–∏—Å—Ç–∫–∞ —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ –ø—Ä–µ–≤—ã—à–∞—é—â–∏—Ö –ø–æ—Ä–æ–≥–∏ |
| **–û—á–∏—Å—Ç–∫–∞ journal** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–º systemd –∂—É—Ä–Ω–∞–ª–∞ |
| **–û—á–∏—Å—Ç–∫–∞ apt –∫—ç—à–∞** | –£–¥–∞–ª–µ–Ω–∏–µ —Å–∫–∞—á–∞–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ |
| **–û—á–∏—Å—Ç–∫–∞ tmp** | –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ |
| **–£–¥–∞–ª–µ–Ω–∏–µ –∞—Ä—Ö–∏–≤–æ–≤** | –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö .gz —Ñ–∞–π–ª–æ–≤ |

### ‚öôÔ∏è –ó–∞—â–∏—Ç–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ logrotate** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è —Å –ª–∏–º–∏—Ç–∞–º–∏ —Ä–∞–∑–º–µ—Ä–∞ |
| **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ journald** | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∂—É—Ä–Ω–∞–ª–∞ |
| **Cron –∑–∞–¥–∞—á–∏** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é |
| **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** | –°–∫—Ä–∏–ø—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤ |

### üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| **Dry-run —Ä–µ–∂–∏–º** | –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –¥–µ–π—Å—Ç–≤–∏–π –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π |
| **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** | –ñ—É—Ä–Ω–∞–ª –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π —Å–∫—Ä–∏–ø—Ç–∞ |
| **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** | –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–æ—Ä–æ–≥–∏ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª –∏–ª–∏ –º–µ–Ω—é |
| **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** | –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∏ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π |

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –°–∫–∞—á–∞—Ç—å —Å–∫—Ä–∏–ø—Ç
curl -O https://raw.githubusercontent.com/LastArt/LF_CLEANER/main/lf_cleaner.sh

# –°–¥–µ–ª–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x lf_cleaner.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
sudo ./lf_cleaner.sh
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ —Å–∏—Å—Ç–µ–º—É

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ /usr/local/bin
sudo cp lf_cleaner.sh /usr/local/bin/lf_cleaner
sudo chmod +x /usr/local/bin/lf_cleaner

# –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞
sudo lf_cleaner
```

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ** (–æ–±—ã—á–Ω–æ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã):
- `coreutils` (truncate, du, df)
- `findutils` (find)
- `systemd` (journalctl)
- `logrotate`

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ**:
```bash
sudo apt install ncdu   # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–∏—Å–∫–∞
```

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

```bash
sudo ./lf_cleaner.sh
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

```bash
# –†–µ–∂–∏–º –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ (–Ω–∏—á–µ–≥–æ –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç)
sudo ./lf_cleaner.sh --dry-run

# –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
sudo ./lf_cleaner.sh --verbose

# –ö–æ–º–±–∏–Ω–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
sudo ./lf_cleaner.sh --dry-run --verbose

# –°–ø—Ä–∞–≤–∫–∞
./lf_cleaner.sh --help
```

### –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë       LF_CLEANER v2.0 - Ubuntu Server 24.04 LTS       ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë  1. üìä –í—ã—è–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É (–∫—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ)           ‚ïë
‚ïë  2. üîç –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤                          ‚ïë
‚ïë  3. üßπ –û—á–∏—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –æ—Ç –±–æ–ª—å—à–∏—Ö –ª–æ–≥–æ–≤               ‚ïë
‚ïë  4. ‚öôÔ∏è  –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è                ‚ïë
‚ïë  5. üìà –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è               ‚ïë
‚ïë  6. üõ°Ô∏è  –ë—ã—Å—Ç—Ä–∞—è –ø–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞                         ‚ïë
‚ïë  7. üìã –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ logrotate                   ‚ïë
‚ïë  8. üìù –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏                   ‚ïë
‚ïë  9. üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∫—Ä–∏–ø—Ç–∞                               ‚ïë
‚ïë 10. ‚ùì –ü–æ–º–æ—â—å –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è                              ‚ïë
‚ïë  0. üî¥ –í—ã—Ö–æ–¥                                           ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

–ë—ã—Å—Ç—Ä–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –õ–æ–≥–∏: 2.1G | –î–∏—Å–∫: 87%
```

## üñºÔ∏è –°–∫—Ä–∏–Ω—à–æ—Ç—ã

### –ü—É–Ω–∫—Ç 1: –í—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–°–∫—Ä–∏–ø—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç **–≤—Å—é —Å–∏—Å—Ç–µ–º—É**, –Ω–µ —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏:

```
‚ñ∫ –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ:
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1        50G   45G  2.5G  95% /

‚ö†Ô∏è  –ö–†–ò–¢–ò–ß–ù–û: –î–∏—Å–∫ –∑–∞–ø–æ–ª–Ω–µ–Ω –Ω–∞ 95%!

‚ñ∫ TOP 15 —Å–∞–º—ã—Ö –±–æ–ª—å—à–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:
15G     /var
8.2G    /usr
6.1G    /home
4.3G    /opt
2.1G    /var/log
1.2G    /var/lib/docker
...

‚ñ∫ –õ–æ–≥–∏ –ø–æ —Ä–∞–∑–º–µ—Ä—É (—Å –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π):
–†–ê–ó–ú–ï–†       –§–ê–ô–õ                                       –°–¢–ê–¢–£–°
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
2.1G         /var/log/syslog                            [–ö–†–ò–¢–ò–ß–ù–û]
450M         /var/log/auth.log                          [–í–ù–ò–ú–ê–ù–ò–ï]
12M          /var/log/kern.log                          [OK]

‚ñ∫ TOP 10 —Å–∞–º—ã—Ö –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ –≤ –ª–æ–≥–∞—Ö:
2.1G    /var/log/syslog
450M    /var/log/auth.log
...

‚ñ∫ –§–∞–π–ª—ã –±–æ–ª—å—à–µ 100–ú–ë:
-rw-r--r-- 1 root root 2.1G Jan 15 12:00 /var/log/syslog
-rw-r--r-- 1 root root 450M Jan 15 11:30 /var/log/auth.log
-rw-r--r-- 1 root root 156M Jan 10 08:00 /home/user/backup.tar

‚ñ∫ –û—Ç–∫—Ä—ã—Ç—ã–µ —É–¥–∞–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–∑–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ):
nginx    12345  root  5w  REG  8,1  524288000  /var/log/nginx/access.log (deleted)
–°–æ–≤–µ—Ç: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –º–µ—Å—Ç–∞
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π

```
‚ñ∫ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞:
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë] 82%

‚ñ∫ TOP 5 –ª–æ–≥–æ–≤ –ø–æ —Ä–∞–∑–º–µ—Ä—É:
2.1G    /var/log/syslog
450M    /var/log/auth.log
128M    /var/log/journal
12M     /var/log/kern.log
4.0M    /var/log/dpkg.log
```

### –û—á–∏—Å—Ç–∫–∞ —Å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º

```
‚ñ∫ –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑:
  syslog: 2100MB (–ø–æ—Ä–æ–≥: 100MB) - –±—É–¥–µ—Ç –æ—á–∏—â–µ–Ω
  auth.log: 450MB (–ø–æ—Ä–æ–≥: 50MB) - –±—É–¥–µ—Ç –æ—á–∏—â–µ–Ω
  kern.log: 12MB (–≤ –Ω–æ—Ä–º–µ)

  –ë–æ–ª—å—à–∏–µ –Ω–µ—Å–∂–∞—Ç—ã–µ –∞—Ä—Ö–∏–≤—ã (.log.1):
    syslog.1: 850MB - –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω
    auth.log.1: 120MB - –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω

  –°—Ç–∞—Ä—ã—Ö –∞—Ä—Ö–∏–≤–æ–≤ (>30 –¥–Ω–µ–π): 15

–û–∂–∏–¥–∞–µ–º–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ: ~3520MB
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–∏—Ç–∞–µ—Ç `/etc/lf_cleaner.conf`:

```bash
# –ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (–≤ –ú–ë)
SYSLOG_THRESHOLD=100      # –û—á–∏—â–∞—Ç—å syslog –µ—Å–ª–∏ –±–æ–ª—å—à–µ
AUTH_THRESHOLD=50         # –û—á–∏—â–∞—Ç—å auth.log –µ—Å–ª–∏ –±–æ–ª—å—à–µ
BTMP_THRESHOLD=10         # –û—á–∏—â–∞—Ç—å btmp –µ—Å–ª–∏ –±–æ–ª—å—à–µ

# –õ–∏–º–∏—Ç—ã
JOURNAL_SIZE="200M"       # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä journal
ARCHIVE_AGE_DAYS=30       # –£–¥–∞–ª—è—Ç—å –∞—Ä—Ö–∏–≤—ã —Å—Ç–∞—Ä—à–µ N –¥–Ω–µ–π
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ –º–µ–Ω—é

–ü—É–Ω–∫—Ç **9. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∫—Ä–∏–ø—Ç–∞** –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å dry-run —Ä–µ–∂–∏–º
- –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å verbose —Ä–µ–∂–∏–º
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ñ–∞–π–ª
- –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∂—É—Ä–Ω–∞–ª –¥–µ–π—Å—Ç–≤–∏–π

## üîß –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—É–Ω–∫—Ç "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞—â–∏—Ç—É"

1. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç logrotate** –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ª–æ–≥–æ–≤:
   - –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–æ—Ç–∞—Ü–∏—è
   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ 100MB
   - –•—Ä–∞–Ω–µ–Ω–∏–µ 7 –∞—Ä—Ö–∏–≤–æ–≤
   - –°–∂–∞—Ç–∏–µ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤

2. **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç journald**:
   - –õ–∏–º–∏—Ç 100MB –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
   - –õ–∏–º–∏—Ç 50MB –¥–ª—è runtime
   - –•—Ä–∞–Ω–µ–Ω–∏–µ –º–∞–∫—Å–∏–º—É–º 7 –¥–Ω–µ–π

3. **–°–æ–∑–¥–∞—ë—Ç cron-–∑–∞–¥–∞—á–∏**:
   - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Ä–æ—Ç–∞—Ü–∏—è –≤ 3:00
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–∑–º–µ—Ä–æ–≤ –≤ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 4:00

4. **–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**:
   - `/usr/local/bin/lf_monitor.sh`

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
LF_CLEANER/
‚îú‚îÄ‚îÄ lf_cleaner.sh       # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ CHANGELOG.md        # –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îî‚îÄ‚îÄ LICENSE             # –õ–∏—Ü–µ–Ω–∑–∏—è MIT
```

## üî• –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞

–ï—Å–ª–∏ –¥–∏—Å–∫ –∑–∞–ø–æ–ª–Ω–µ–Ω –Ω–∞ 100% –∏ –Ω–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç:

```bash
# 1. –û—á–∏—Å—Ç–∏—Ç—å journal (–æ–±—ã—á–Ω–æ —Å–∞–º–æ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ)
sudo journalctl --vacuum-size=50M

# 2. –û—á–∏—Å—Ç–∏—Ç—å –±–æ–ª—å—à–∏–µ –ª–æ–≥–∏
sudo truncate -s 0 /var/log/syslog
sudo truncate -s 0 /var/log/auth.log

# 3. –£–¥–∞–ª–∏—Ç—å –∞—Ä—Ö–∏–≤—ã –ª–æ–≥–æ–≤
sudo find /var/log -name "*.gz" -delete
sudo find /var/log -name "*.1" -delete

# 4. –û—á–∏—Å—Ç–∏—Ç—å apt –∫—ç—à
sudo apt clean

# 5. –û—á–∏—Å—Ç–∏—Ç—å tmp
sudo rm -rf /tmp/* /var/tmp/*

# 6. –ù–∞–π—Ç–∏ –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã –ø–æ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º–µ
sudo find / -type f -size +100M -exec ls -lh {} \; 2>/dev/null
```

## ‚ùì FAQ

<details>
<summary><b>–ö–∞–∫ –Ω–∞–π—Ç–∏ —á—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –ª–æ–≥–∏?</b></summary>

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É–Ω–∫—Ç 1 ‚Äî –æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç TOP –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –ø–æ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º–µ:
```
‚ñ∫ TOP 15 —Å–∞–º—ã—Ö –±–æ–ª—å—à–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:
15G     /var
8.2G    /usr
6.1G    /home
4.3G    /opt
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ncdu (–ø—É–Ω–∫—Ç 2):
```bash
sudo ncdu /
```
</details>

<details>
<summary><b>Docker —Å—ä–µ–ª –≤—Å—ë –º–µ—Å—Ç–æ. –ß—Ç–æ –¥–µ–ª–∞—Ç—å?</b></summary>

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Docker
docker system df

# –û—á–∏—Å—Ç–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ
docker system prune -a

# –û—á–∏—Å—Ç–∏—Ç—å volumes
docker volume prune
```
</details>

<details>
<summary><b>–£–¥–∞–ª–∏–ª —Ñ–∞–π–ª, –Ω–æ –º–µ—Å—Ç–æ –Ω–µ –æ—Å–≤–æ–±–æ–¥–∏–ª–æ—Å—å</b></summary>

–§–∞–π–ª –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ–º. –°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ç–æ –≤ –ø—É–Ω–∫—Ç–µ 1:
```
‚ñ∫ –û—Ç–∫—Ä—ã—Ç—ã–µ —É–¥–∞–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–∑–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ):
nginx  12345  root  /var/log/nginx/access.log (deleted)
```

–†–µ—à–µ–Ω–∏–µ: –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å (`sudo systemctl restart nginx`)
</details>

<details>
<summary><b>–ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å –æ—á–∏—Å—Ç–∫—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏?</b></summary>

–ü—É–Ω–∫—Ç 4 —Å–æ–∑–¥–∞—ë—Ç cron-–∑–∞–¥–∞—á–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```bash
sudo crontab -e

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Ä–æ—Ç–∞—Ü–∏—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00
0 3 * * * /usr/sbin/logrotate -f /etc/logrotate.conf

# –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–∞–∂–¥–æ–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ
0 4 * * 0 /usr/local/bin/lf_monitor.sh
```
</details>

<details>
<summary><b>–ë–µ–∑–æ–ø–∞—Å–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±—ã—Å—Ç—Ä—É—é –æ—á–∏—Å—Ç–∫—É?</b></summary>

- –ü—É–Ω–∫—Ç 3 ‚Äî **–±–µ–∑–æ–ø–∞—Å–Ω–æ**, –æ—á–∏—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã –ø—Ä–µ–≤—ã—à–∞—é—â–∏–µ –ø–æ—Ä–æ–≥–∏
- –ü—É–Ω–∫—Ç 6 ‚Äî **–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ**, —É–¥–∞–ª—è–µ—Ç –í–°–ï –ª–æ–≥–∏ –∏ –∞—Ä—Ö–∏–≤—ã

–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--dry-run` –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞!
</details>

<details>
<summary><b>–ö–∞–∫–æ–π —Å–µ—Ä–≤–∏—Å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º–Ω–æ–≥–æ –ª–æ–≥–æ–≤?</b></summary>

```bash
# –ö—Ç–æ –ø–∏—à–µ—Ç –≤ –ª–æ–≥–∏ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å
sudo lsof /var/log/* | awk '{print $1}' | sort | uniq -c | sort -rn | head

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ journald –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º
journalctl --disk-usage
journalctl -u nginx --disk-usage  # –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
```
</details>

<details>
<summary><b>–°–∫—Ä–∏–ø—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è</b></summary>

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞: `chmod +x lf_cleaner.sh`
2. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –æ—Ç root: `sudo ./lf_cleaner.sh`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å: `bash -n lf_cleaner.sh`
</details>

## ü§ù –°–æ–¥–µ–π—Å—Ç–≤–∏–µ

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è:
- üêõ –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- üí° –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é
- üîß Pull requests

```bash
# –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –∑–∞—Ç–µ–º:
git clone https://github.com/LastArt/LF_CLEANER.git
cd LF_CLEANER
# –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git commit -m "–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
git push origin main
# –°–æ–∑–¥–∞–π—Ç–µ Pull Request
```

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

---

<div align="center">

**–ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –ø–æ–ª–µ–∑–µ–Ω ‚Äî –ø–æ—Å—Ç–∞–≤—å—Ç–µ ‚≠ê**

[–°–æ–æ–±—â–∏—Ç—å –æ–± –æ—à–∏–±–∫–µ](../../issues) ¬∑ [–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ](../../issues)

</div>
